.album-form-grid
  - if can? :create, Photo
    %h3 Add photo
    .add-photo-form
      %ul.errors
        - @photo.errors.full_messages.each do |error|
          %li= error
      = form_for(@photo) do |f|
        = hidden_field_tag :album_id, @album.id
        = f.label :title
        = f.text_field :title
        = f.label :description
        = f.text_field :description
        = f.file_field :image
        .input-row
          = f.label :tags
          = f.text_field :tag_list, id: "photo_tags_list"
        = f.submit
.album-grid
  - @photos.each do |photo|
    .album-photo
      = link_to image_tag(photo.image_url(:profile_grid)), photo_path(photo)
      / = photo.title
      / = photo.description
      / = photo.tag_list
      / - if can? :destroy, photo
      /   = link_to "Remove photo", photo_path(photo), method: :delete

.sidebar-content-area
  .sidebar-content
    .profile-picture
      = image_tag avatar_url(@album.user)
      %h3 #{@album.user.name}

    .sidebar-text
      %h1 Title
      %p= @album.title
      %h1 Description
      %p= @album.description

    - if can? :manage, @album
      = link_to "Edit Album", edit_album_path(@album)
      \|
      = link_to "Delete Album", album_path(@album), method: :delete
      %p
        = link_to 'Share on Facebook', "https://www.facebook.com/sharer/sharer.php?u=" + album_path(@album)

